<!DOCTYPE html>
<html>
<head>
	<!-- Encoding -->
	<meta charset="utf-8"/>

	<!-- Webpage meta -->
	<title>FromSoft Image Macro Generator</title>
	<meta name="description" content="Create convincing image macros and text overlays based on games like Dark Souls and Elden Ring. Includes 'YOU DIED', 'VICTORY ACHIEVED', etc.">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="shortcut icon" href=favicon.ico type="image/x-icon" />

	<!-- Garamond font, care of Adobe. -->
	<link rel="stylesheet" href="https://use.typekit.net/lke6kpb.css">
	
	<!-- Google Analytics to track traffic -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-HCGGJHJ3DR"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		disable = document.cookie?.split(';').find(c=>c.startsWith('ga-disable'))?.endsWith('1') ?? false
		window['ga-disable-G-HCGGJHJ3DR'] = disable
		function gtag(){ dataLayer.push(arguments) }
		gtag('js', new Date()); gtag('config', 'G-HCGGJHJ3DR')
	</script>

	<!-- My stylesheet and scripts -->
	<link rel="stylesheet" href="normal.css">
	<link rel="stylesheet" href="new-area.css">
	<script type="text/javascript" src="image-gen.js"></script>
	
	<!-- Specific page-setup script -->
	<script type="text/javascript">
		window.addEventListener('DOMContentLoaded', function() {
			// Recall whether that box is checked
			document.querySelector('input[target=disable-ga]').checked = window['ga-disable-G-HCGGJHJ3DR']
		})
		window.addEventListener('load', function() {
			// Create the global MacroGenerator
			macroGen = new MacroGenerator(document.getElementById('main-content'))
			macroGen.redrawMacro()
		})
	</script>

	<!-- Twitter Card info -->
	<meta name=twitter:card     content=summary_large_image>
	<meta name=twitter:site     content=@rezuaq>
	<meta name=twitter:creator  content=@rezuaq>
	<meta name=twitter:title    content="FromSoft Image Macro Generator">
	<meta name=twitter:description content="Create convincing looking image macros based on FromSoft games.">
	<meta name=twitter:image    content=https://i.imgur.com/SDngnwG.png> <!-- TEMP IMAGE -->
		
</head>

<body style="background-image: url(https://i.imgur.com/Fcq8N5o.jpg)">
<div id=background-layer class="background-layer faded"></div>

<div id=main>
	<div id=main-content class=content style="position: relative; margin-top: 1%; margin-bottom: 100px; margin-left: 2%; width: 96%; max-width: none">
		<h1>FromSoftware image macro generator</h1>
		<button class="emoji-button minimise"></button>

		<div class=help>
			Select, link or paste an image to put convincing FromSoftware game overlays on it.
			Work in progress, currently only implements a limited set of overlay types.
		</div><br>

		<div style="display:flex; overflow-x:auto; width:calc(100% + 40px); position: relative; left:-20px">
			<canvas id=canvas class=big width=1920px height=1080px style="margin-left: auto; margin-right: auto"></canvas>
		</div>
		
		<div class=info style="text-align:center">
			Canvas resolution: <span id="canv-res-x"></span> Ã— <span id="canv-res-y"></span>px
		</div>
		

		<div style="display:flex; flex-wrap:wrap; justify-content:center; margin:1em">

			<div id=global-sliders class=sliders-container>
				<h4 style="margin-bottom: .5em"> Configuration </h4>
				<div>
					<span class=input-title>Macro type:</span>
					<select id=macro-type style="margin-left:25px">
						<!-- Filled in by script -->
					</select>
				</div>
				<div>
					<span class=input-title>Caption:</span>
					<input type=text id=image-caption value="Enter Caption" size=32 style="float:right">
				</div>
				<div>
					<span class=input-title>Image URL:</span>
					<input type=text id=image-URL size=32 style="float:right">
				</div>
				<div>
					<span class=input-title>Image Upload:</span>
					<input type=file id=image-upload accept="image/*" style=display:inline;float:right>
				</div>
				<div>
					<span class=input-title>Constrain resolution:</span>
					<input type=checkbox id=limit-resolution checked> <span class=help style="margin-left:1em">(Decreases strain on your system)</span>
					<div id=resolution-warning hidden>Warning: Selected image is too large, auto re-rendering is disabled.</div>
				</div>
			</div>

			<div id=victory class=sliders-container hidden>
				<h4> Overlay options </h4>
				<div>
					<span class=input-title>Horizontal offset:</span>
					<button class=emoji-button name=xOffset value=0 style=float:right>ðŸ”„</button>
					<input type=range name=xOffset min=-60 max=60 step=0.2 value=0>
				</div>
				<div>
					<span class=input-title>Vertical offset:</span>
					<button class=emoji-button name=yOffset value=0 style=float:right>ðŸ”„</button>
					<input type=range name=yOffset min=-60 max=60 step=0.2 value=0>
				</div>
				<div>
					<span class=input-title>Scale:</span>
					<button class=emoji-button name=scale value=0 style=float:right>ðŸ”„</button>
					<input type=range name=scale min=-5 max=4 step=.01 value=0>
				</div>
				<div class=smol>
					<span class=input-title>Main color:</span>
					<button class=emoji-button name=color value=#ffff6b style=float:right>ðŸ”„</button>
					<input type=color name=color as=rgb value=#ffff6b>
				</div>
				<div class=smol>
					<span class=input-title>Blur tint:</span>
					<button class=emoji-button name=blurTint value=#ffb299 style=float:right>ðŸ”„</button>
					<input type=color name=blurTint as=rgb value=#ffb299>
				</div>
				<div class=smol>
					<span class=input-title>Shadow size:</span>
					<button class=emoji-button name=shadowSize value=1 style=float:right>ðŸ”„</button>
					<input type=range name=shadowSize min=0 max=8 step=.1 value=1>
				</div>
				<div class=smol>
					<span class=input-title>Shadow opacity:</span>
					<button class=emoji-button name=shadowOpacity value=1 style=float:right>ðŸ”„</button>
					<input type=range name=shadowOpacity min=0 max=3 step=0.1 value=1>
				</div>
			</div>

			<div id=area-name class=sliders-container hidden>
				<h4> Overlay options </h4>
				<div>
					<span class=input-title>Horizontal offset:</span>
					<button class=emoji-button name=xOffset value=0 style=float:right>ðŸ”„</button>
					<input type=range name=xOffset min=-60 max=60 step=0.2 value=0>
				</div>
				<div>
					<span class=input-title>Vertical offset:</span>
					<button class=emoji-button name=yOffset value=0 style=float:right>ðŸ”„</button>
					<input type=range name=yOffset min=-60 max=60 step=0.2 value=0>
				</div>
				<div>
					<span class=input-title>Scale:</span>
					<button class=emoji-button name=scale value=0 style=float:right>ðŸ”„</button>
					<input type=range name=scale min=-5 max=4 step=.01 value=0>
				</div>
				<div class=smol>
					<span class=input-title>Underline:</span>
					<button class=emoji-button name=underline value=32 style=float:right>ðŸ”„</button>
					<input type=range name=underline min=0 max=64 value=32>
				</div>
				<div class=smol>
					<span class=input-title>Contrast:</span>
					<button class=emoji-button name=contrast value=1 style=float:right>ðŸ”„</button>
					<input type=range name=contrast min=0 max=3 step=0.1 value=1>
				</div>
			</div>

			<div id=image class=sliders-container hidden>
				<h4> Image filters </h4>
				<div>
					<span class=input-title>Saturation:</span>
					<button class=emoji-button name=imgSaturate value=100 style="float:right">ðŸ”„</button>
					<input type=range name=imgSaturate min=0 max=200 step=1 value=100>
				</div>
				<div>
					<span class=input-title>Contrast:</span>
					<button class=emoji-button name=imgContrast value=100 style="float:right">ðŸ”„</button>
					<input type=range name=imgContrast min=0 max=200 step=1 value=100>
				</div>
				<div>
					<span class=input-title>Brightness:</span>
					<button class=emoji-button name=imgBrightness value=100 style="float:right">ðŸ”„</button>
					<input type=range name=imgBrightness min=0 max=200 step=1 value=100>
				</div>
			</div>

		</div>

		<div style=position:absolute;right:30px;bottom:10px>
			<button style=margin-left:20px id=generate-button onclick=macroGen.saveImage()>Save image</button>
			<button id=generate-button onclick=macroGen.redrawMacro()>Render changes</button>
		</div>
	</div>
</div>


<div id=footer class=never-fixed>
	<div id=bottom-fade></div>

	<div id=credits>
		<div class="credit left" style=line-height:1em>
			<label>Disable Google Analytics: <input type=checkbox target=disable-ga onclick="document.cookie = 'ga-disable='+ +this.checked"></label>
			<br>
			<span style="opacity: 0.8; font-size: 16px">
				Image composition happens in-app; No data is ever sent to a server, all images are 100% private.
			</span>
		</div>

		<div class="credit right">
			<a href="http://twitter.com/rezuaq" target=_blank>Created by Rezuaq</a>
			<span class=dash>-</span>
			<a href="https://github.com/Sibert-Aerts/sibert-aerts.github.io/tree/master/new-area" target=_blank>On Github</a>
			<span class=dash>-</span>
			<a href="http://imgur.com/a/xrxes" target=_blank>Background images</a>
		</div>
	</div>
</div>

</body>

</html>