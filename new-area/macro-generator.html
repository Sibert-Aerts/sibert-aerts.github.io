<!DOCTYPE html>
<html>
<head>
	<!-- Encoding -->
	<meta charset="utf-8"/>

	<!-- Webpage meta -->
	<title>FromSoft Image Macro Creator</title>
	<meta name="description" content=
		"Create convincing image macros and text overlays based on FromSoftware games like Dark Souls, Bloodborne and Elden Ring.
		Includes 'VICTORY ACHIEVED', 'YOU DIED', 'NOUN VERBED', 'Area Name' etc.">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="shortcut icon" href=favicon.ico type="image/x-icon"/>

	<!-- Garamond font, care of Adobe. -->
	<link rel="stylesheet" href="https://use.typekit.net/lke6kpb.css">
	
	<!-- Google Analytics to track traffic -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-HCGGJHJ3DR"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		disable = document.cookie?.split(';').find(c=>c.startsWith('ga-disable'))?.endsWith('1') ?? false
		window['ga-disable-G-HCGGJHJ3DR'] = disable
		function gtag(){ dataLayer.push(arguments) }
		gtag('js', new Date()); gtag('config', 'G-HCGGJHJ3DR')
	</script>

	<!-- My stylesheets and scripts -->
	<link rel="stylesheet" href="normal.css">
	<link rel="stylesheet" href="soulsy-input.css">
	<link rel="stylesheet" href="new-area.css">
	<script type="text/javascript" src="image-gen.js"></script>
	
	<!-- Specific page-setup script -->
	<script type="text/javascript">

		document.addEventListener('DOMContentLoaded', function() {
			// Recall whether that box is checked
			document.querySelector('input[target=disable-ga]').checked = window['ga-disable-G-HCGGJHJ3DR']
			macroGen = new MacroGenerator(document.getElementById('main-content'))
		})

		window.addEventListener('load', function() {
			// Create the global MacroGenerator
			macroGen.redrawMacro()
		})
		
	</script>

	<!-- Twitter Card info -->
	<meta name=twitter:card     content=summary_large_image>
	<meta name=twitter:site     content=@rezuaq>
	<meta name=twitter:creator  content=@rezuaq>
	<meta name=twitter:title    content="FromSoft Image Macro Creator">
	<meta name=twitter:description content="Create convincing looking image macros based on FromSoft games.">
	<meta name=twitter:image    content=https://i.imgur.com/SDngnwG.png> <!-- TEMP IMAGE -->
		
</head>

<body style="background-image: url(https://i.imgur.com/Fcq8N5o.jpg)">
<div id=background-layer class="background-layer faded"></div>

<div id=main>
	<div id=main-content class=content style="position: relative; margin-top: 1%; margin-bottom: 100px; margin-left: 2%; width: 96%; max-width: none">
		<h1>FromSoftware image macro generator</h1>

		<div class=help>
			Select, link or paste an image to put convincing FromSoftware game overlays on it.
			Work in progress, currently only implements a limited set of overlay types.
		</div><br>

		<div style="display:flex; overflow-x:auto; width:calc(100% + 40px); position: relative; left:-20px">
			<canvas id=canvas class=big width=1920px height=1080px style="margin-left: auto; margin-right: auto"></canvas>
		</div>
		
		<div class=info style="text-align:center">
			Canvas resolution: <span id="canv-res-x"></span> Ã— <span id="canv-res-y"></span>px
		</div>
		

		<div class=sliders-supercontainer>
			<div id=global-sliders class=sliders-container>
				<h4 style="margin-bottom: .5em"> Configuration </h4>

				<div>
					<span class=input-title style=min-width:100px>Macro type:</span>
					<select name=macro-type style=min-width:200px></select>
				</div>
				<div>
					<span class=input-title style=min-width:100px>Game:</span>
					<select name=macro-type-game style=min-width:200px></select>
				</div>
				<div>
					<span class=input-title style=min-width:100px>Preset:</span>
					<div name=macro-type-preset-holder style=display:inline-block></div>
				</div>

				<div>
					<span class=input-title style=min-width:100px>Caption:</span>
					<input type=text id=image-caption value="Enter Caption" style="min-width:280px">
				</div>
				<div>
					<span class=input-title style=min-width:100px>Image URL:</span>
					<input type=text id=image-URL style="min-width:280px">
				</div>
				<div>
					<span class=input-title style=min-width:100px>Image Upload:</span>
					<input type=file id=image-upload accept="image/*" style=display:inline;width:280px>
				</div>
				<div style=margin-top:1em>
					<label class=input-title>Constrain resolution: <input type=checkbox id=limit-resolution checked></label> 
					<span class=help style="margin-left:1em">(Decreases strain on your system)</span>
					<div id=resolution-warning hidden>Warning: Selected image is too large, auto re-rendering is disabled.</div>
				</div>
			</div>

			<div id=macro-sliders style=width:400px>

				<div name=position class=sliders-container hidden>
					<h4> Overlay options </h4>
					<div>
						<span class=input-title>Horizontal offset:</span>
						<button class=reset-button></button>
						<input type=range name=xOffset min=-.60 max=.60 step=0.001 default=0>
					</div>
					<div>
						<span class=input-title>Vertical offset:</span>
						<button class=reset-button></button>
						<input type=range name=yOffset min=-.60 max=.60 step=0.001 default=0>
					</div>
					<div>
						<span class=input-title>Scale:</span>
						<button class=reset-button></button>
						<input type=range name=scale min=-3 max=4 step=.01 default=0 as=log2>
					</div>
				</div>

				<div name=font class=sliders-container hidden>
					<!-- <h4 style="margin-bottom:10px"> Font </h4> -->
					<div class=smol>
						<span class=input-title>Font family:</span>
						<button class=reset-button></button>
						<input type=text name=fontFamily>
					</div>
					<div class=smol>
						<span class=input-title>Text color:</span>
						<button class=reset-button></button>
						<input type=color name=textColor>
					</div>
					<div class=smol>
						<span class=input-title>Font size:</span>
						<button class=reset-button></button>
						<input type=range name=fontSize min=10 max=300 step=1>
					</div>
					<div class=smol>
						<span class=input-title>Font weight:</span>
						<button class=reset-button></button>
						<input type=range name=fontWeight min=100 max=900 step=100>
					</div>
					<div class=smol>
						<span class=input-title>Vertical scale:</span>
						<button class=reset-button></button>
						<input type=range name=vScale min=-2 max=2 step=.02 as=log1.5>
					</div>
					<div class=smol>
						<span class=input-title>Letter spacing:</span>
						<button class=reset-button></button>
						<input type=range name=charSpacing min=-10 max=40 step=.5>
					</div>
				</div>

				<div name=zoomBlur class=sliders-container hidden>
					<div class=smol>
						<span class=input-title>Text color:</span>
						<button class=reset-button></button>
						<input type=color name=color as=rgb default=#ffff6b>
					</div>
					<div class=smol>
						<span class=input-title>Blur tint:</span>
						<button class=reset-button></button>
						<input type=color name=blurTint as=rgb default=#ffb299>
					</div>
					<div class=smol>
						<span class=input-title>Blur size:</span>
						<button class=reset-button></button>
						<input type=range name=blurSize min=1 max=2 step=.01 default=1.1>
					</div>
					<div class=smol>
						<span class=input-title>Blur opacity:</span>
						<button class=reset-button></button>
						<input type=range name=blurOpacity min=0 max=1 step=.01 default=.08>
					</div>
				</div>

				<div name=glowy class=sliders-container hidden>
					<div class=smol>
						<span class=input-title>Text opacity:</span>
						<button class=reset-button></button>
						<input type=range name=textOpacity min=0 max=1 step=.02 default=.7>
					</div>
					<div class=smol>
						<span class=input-title>Glow color:</span>
						<button class=reset-button></button>
						<input type=color name=glowColor as=rgb default=#ffffff>
					</div>
					<div class=smol>
						<span class=input-title>Glow size:</span>
						<button class=reset-button></button>
						<input type=range name=glowSize min=0 max=100 step=1 default=40>
					</div>
					<div class=smol>
						<span class=input-title>Glow opacity:</span>
						<button class=reset-button></button>
						<input type=range name=glowOpacity min=0 max=5 step=.1 default=1>
					</div>
				</div>

				<div name=area class=sliders-container hidden>
					<div class=smol>
						<span class=input-title>Underline:</span>
						<button class=reset-button></button>
						<input type=range name=underline min=0 max=.64 step=.01 default=.32>
					</div>
					<div class=smol>
						<span class=input-title>Contrast:</span>
						<button class=reset-button></button>
						<input type=range name=contrast min=0 max=3 step=0.1 default=1>
					</div>
				</div>

				<div name=shadow class=sliders-container hidden>
					<div class=smol>
						<span class=input-title>Shadow size:</span>
						<button class=reset-button></button>
						<input name=shadowSize type=range min=0 max=8 step=.02>
					</div>
					<div class=smol>
						<span class=input-title>Shadow opacity:</span>
						<button class=reset-button></button>
						<input name=shadowOpacity type=range min=0 max=1 step=.01>
					</div>
					<div class=smol>
						<span class=input-title>Shadow offset:</span>
						<button class=reset-button></button>
						<input name=shadowOffset type=range min=-.2 max=.2 step=.002>
					</div>
					<div class=smol>
						<span class=input-title>Shadow softness:</span>
						<button class=reset-button></button>
						<input name=shadowSoftness type=range min=0 max=2 step=.01>
					</div>
				</div>

			</div>

			<div id=image class=sliders-container hidden>
				<h4> Image filters </h4>
				<div>
					<span class=input-title>Saturation:</span>
					<button class=reset-button></button>
					<input type=range name=imgSaturate min=0 max=200 step=1 default=100>
				</div>
				<div>
					<span class=input-title>Contrast:</span>
					<button class=reset-button></button>
					<input type=range name=imgContrast min=0 max=200 step=1 default=100>
				</div>
				<div>
					<span class=input-title>Brightness:</span>
					<button class=reset-button></button>
					<input type=range name=imgBrightness min=0 max=200 step=1 default=100>
				</div>
			</div>

		</div>
		
		<div class=save-buttons style=position:absolute;right:30px;bottom:10px;>
			<button class=soulsy-box onclick=macroGen.redrawMacro()>Render changes</button>
			<button style=margin-left:20px class=soulsy-box onclick=macroGen.saveImage()>Save image</button>
		</div>
	</div>
</div>


<div id=footer class=never-fixed>
	<div id=bottom-fade></div>

	<div id=credits>
		<div class="credit left" style=line-height:1em>
			<label>Disable Google Analytics: <input type=checkbox target=disable-ga onclick="document.cookie = 'ga-disable='+ +this.checked"></label>
			<br>
			<span style="opacity: 0.8; font-size: 16px">
				Image composition happens in-app; No data is ever sent to a server, all images are 100% private.
			</span>
		</div>

		<div class="credit right">
			<a href="http://twitter.com/rezuaq" target=_blank>Created by Rezuaq</a>
			<span class=dash>-</span>
			<a href="https://github.com/Sibert-Aerts/sibert-aerts.github.io/tree/master/new-area" target=_blank>On Github</a>
			<span class=dash>-</span>
			<a href="http://imgur.com/a/xrxes" target=_blank>Background images</a>
		</div>
	</div>
</div>

</body>

</html>